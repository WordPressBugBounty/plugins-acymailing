function setTag(e,t){document.getElementById("acym__dtext__picker__modal__code").value=e}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("acym__dtext__picker"),t=document.getElementById("acym__dtext__picker__modal__code"),n=document.getElementById("acym__dtext__button"),c=n.getAttribute("data-acym-editor"),d=n.getAttribute("data-acym-selection"),i=document.getElementById("acym__dtext__picker__modal__insert"),l=document.querySelector("#acym_wrapper");let o=null,a=null;!function(){if(n.addEventListener("click",function(t){c||"undefined"!=typeof tinymce&&null!==tinymce.activeEditor||(i.innerText=ACYM_JS_TXT.ACYM_COPY_CODE),e.classList.toggle("is-hidden")}),!c&&"joomla"===ACYM_CMS){const e=document.getElementById("acym_content");e?e.appendChild(n):l.appendChild(n)}}(),e.addEventListener("click",function(t){["acym__dtext__picker","acym__dtext__picker__modal__close"].includes(t.target.id)&&e.classList.toggle("is-hidden")}),i.addEventListener("click",function(){if(c)!function(e,t){const n=document.getElementById(e);if(null===o)n.value=n.value+t;else{const e=n.value.slice(0,o),c=n.value.slice(a,n.value.length);n.value=e+t+c;const d=o+t.length;if(n.createTextRange){const e=n.createTextRange();e.move("character",d),e.select()}else n.selectionStart?(n.focus(),n.setSelectionRange(d,d)):n.focus();o=null,a=null,n.dispatchEvent(new Event("keyup"))}}(c,t.value),e.classList.toggle("is-hidden");else if("undefined"!=typeof tinymce&&null!==tinymce.activeEditor)tinymce.activeEditor.insertContent(t.value),e.classList.toggle("is-hidden");else{const e=document.getElementById("acym__dtext__picker__modal__code");e.select(),navigator.clipboard.writeText(e.value)}}),l.appendChild(e),document.addEventListener("selectionchange",function(){const e=window.getSelection();if(!d||e.anchorNode.id!==d)return;const t=document.getElementById(c);o=t.selectionStart,a=t.selectionEnd})});